<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>词法作用域的理解</title>
</head>

<body>

   <script type="text/javascript">
        /*function f1(){ 
             var a=1;
			 f2();
	    }
		//当f2函数在这里声明时，它访问的作用域  是自身和全局变量，  f1中的a看不到，
       function f2(){ 
	      return a;
	   }*/
    //  document.write( f2());
	
	
	//解决方案：将f2的声明移入f1中，
	/*function f1(){
       var a=1;
	   function f2(){     //这样声明的话，f2()就变成了一个f1()的私有函数，外部无法调用
	      return a;
	   }
	   return f2();
	}
	document.write(f1());*/
	
	
	//换成匿名内部函数
	/*function f1(){
	   var a=1;
	   return function(){
		  return a;
		}();    //也可以去掉这后面的(),把底下改为document.write( f1()());  输出结果就是一样的了。
	}
	document.write( f1());*/
	
	var a=10;
	function f1(){
	   a=20;     //定义了自由变量，会更改代码中所有a的值。
	   return function(){
	      return a;
	   };
	}
	a=30;
	a=a*10;
	document.write( f1()());      //20  a已经被改变了，因为有一个自由变量（全局变量），后面不管如何更改a的值，它都不会被更改，永远输出a为20
   </script>
</body>
</html>
